Процедура ДобавитьПКО_Документ_СписаниеНедостачТоваров_Получение(ПравилаКонвертации)
	
	ПравилоКонвертации = ОбменДаннымиXDTOСервер.ИнициализироватьПравилоКонвертацииОбъекта(ПравилаКонвертации);
	ПравилоКонвертации.ИмяПКО                       = "Документ_СписаниеНедостачТоваров_Получение";
	ПравилоКонвертации.ОбъектДанных                 = Метаданные.Документы.СписаниеНедостачТоваров;
	ПравилоКонвертации.ОбъектФормата                = "Документ.СписаниеНедостач";
	ПравилоКонвертации.ПриКонвертацииДанныхXDTO     = "ПКО_Документ_СписаниеНедостачТоваров_Получение_ПриКонвертацииДанныхXDTO";
	ПравилоКонвертации.ПередЗаписьюПолученныхДанных = "ПКО_Документ_СписаниеНедостачТоваров_Получение_ПередЗаписьюПолученныхДанных";
	ПравилоКонвертации.ПослеЗагрузкиВсехДанных      = "ОтложеннаяОбработка_СписаниеНедостачТоваров";
	ПравилоКонвертации.ВариантИдентификации         = "СначалаПоУникальномуИдентификаторуПотомПоПолямПоиска";
	СвойстваШапки = ПравилоКонвертации.Свойства;
	ДобавитьПКС(СвойстваШапки, "RM_ОснованиеСписания",                     "Основание");
	ДобавитьПКС(СвойстваШапки, "RM_ПричинаСписанияМаркированнойПродукции", "ПричинаСписания", , "Перечисление_ВидыОперацийИСМП");
	ДобавитьПКС(СвойстваШапки, "RM_ХозяйственнаяОперация",                 "ХозяйственнаяОперация", , "ХозяйственныеОперации");
	ДобавитьПКС(СвойстваШапки, "АналитикаРасходов",                        "АналитикаРасходов", 1, "Справочник_Организации_Получение");
	ДобавитьПКС(СвойстваШапки, "ВидЦены",                                  "ВидЦены", , "Справочник_ТипыЦен");
	ДобавитьПКС(СвойстваШапки, "Дата",                                     "Дата");
	ДобавитьПКС(СвойстваШапки, "Комментарий",                              "Комментарий");
	ДобавитьПКС(СвойстваШапки, "Номер",                                    "Номер");
	ДобавитьПКС(СвойстваШапки, "Организация",                              "Организация", , "Справочник_Организации_Получение");
	ДобавитьПКС(СвойстваШапки, "Основание",                                "RM_ДокументОснование");
	ДобавитьПКС(СвойстваШапки, "Ответственный",                            "Ответственный", , "Справочник_Пользователи");
	ДобавитьПКС(СвойстваШапки, "ПересчетТоваров",                          "ПересчетТоваров", , "Документ_ПересчетТоваров_Получение");
	ДобавитьПКС(СвойстваШапки, "Подразделение",                            "Подразделение", , "Справочник_Подразделения_Получение");
	ДобавитьПКС(СвойстваШапки, "Проведен",                                 "Проведен");
	ДобавитьПКС(СвойстваШапки, "Склад",                                    "Склад", , "Справочник_Склады_Получение");
	
	СвойстваТЧ = ДобавитьПКТЧ(ПравилоКонвертации, "RM_ШтрихкодыУпаковок",    "АкцизныеМарки");
	ДобавитьПКС(СвойстваТЧ, "КлючСвязи",        "ИдентификаторСтроки");
	ДобавитьПКС(СвойстваТЧ, "ШтрихкодУпаковки", "ШтрихкодУпаковки", , "Справочник_ШтрихкодыУпаковокТоваров_Получение");
	
	СвойстваТЧ = ДобавитьПКТЧ(ПравилоКонвертации, "ДополнительныеРеквизиты", "");
	ДобавитьПКС(СвойстваТЧ, "Значение", "", 1);
	ДобавитьПКС(СвойстваТЧ, "Свойство", "", 1, "Справочник_ДополнительныеРеквизиты");
	
	СвойстваТЧ = ДобавитьПКТЧ(ПравилоКонвертации, "Товары",                  "");
	ДобавитьПКС(СвойстваТЧ, "RM_КлючСвязи",   "", 1);
	ДобавитьПКС(СвойстваТЧ, "Количество",     "", 1);
	ДобавитьПКС(СвойстваТЧ, "Номенклатура",   "", 1, "Справочник_Номенклатура_Получение");
	ДобавитьПКС(СвойстваТЧ, "Серия",          "", 1, "Справочник_СерииНоменклатуры");
	ДобавитьПКС(СвойстваТЧ, "Характеристика", "", 1, "Справочник_ХарактеристикиНоменклатуры");

	ПравилоКонвертации.ПоляПоиска.Добавить("Дата,Номер,Организация");
	
КонецПроцедуры
