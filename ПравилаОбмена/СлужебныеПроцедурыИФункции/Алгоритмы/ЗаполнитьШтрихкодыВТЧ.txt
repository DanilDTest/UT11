Процедура ЗаполнитьШтрихкодыВТЧ(КомпонентыОбмена, Таблица, ТаблицаШтрихкодов)
	Если ТаблицаШтрихкодов.Количество() = 0 Тогда
		Возврат;
	КонецЕсли;
	
	Таблица.Колонки.Добавить("Штрихкод");
	ТаблицаШтрихкодов.Индексы.Добавить("Номенклатура, Характеристика, Упаковка");
	Для Каждого СтрокаТаблицы Из Таблица Цикл
		Отбор = Новый Структура;
		Отбор.Вставить("Номенклатура", СтрокаТаблицы.Номенклатура);
		
		Отбор.Вставить("Характеристика", 
			?(ЗначениеЗаполнено(СтрокаТаблицы.ХарактеристикаСсылка),
			СтрокаТаблицы.ХарактеристикаСсылка,
			Справочники.ХарактеристикиНоменклатуры.ПустаяСсылка()
			));
		
		Отбор.Вставить("Упаковка", 
			?(ЗначениеЗаполнено(СтрокаТаблицы.УпаковкаСсылка),
			СтрокаТаблицы.УпаковкаСсылка,
			Справочники.УпаковкиЕдиницыИзмерения.ПустаяСсылка()
			));
			
		НайденныеШтрихкоды = ТаблицаШтрихкодов.НайтиСтроки(Отбор);
		Если Не ЗначениеЗаполнено(НайденныеШтрихкоды) Тогда
			Продолжить;
		КонецЕсли;
		
		СтрокаТаблицы.Штрихкод = НайденныеШтрихкоды[0].Штрихкод;
	КонецЦикла;
КонецПроцедуры
