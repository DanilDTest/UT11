Процедура ЗаполнитьОбъектРасчетовВОстатках(ПолученныеДанные, ЗаполнятьДоговор = Ложь, ОбъектРасчетовПоУмолчанию = Неопределено)
	Для Каждого Строка Из ПолученныеДанные.РасчетыСПартнерами Цикл
		
		Строка.ДатаПлатежа = ПолученныеДанные.Дата;
		
		Если Не ЗаполнятьДоговор или НЕ ЗначениеЗаполнено(Строка.ОбъектРасчетов) Тогда
			Если ЗначениеЗаполнено(ОбъектРасчетовПоУмолчанию) Тогда
				Строка.ОбъектРасчетов = ОбъектРасчетовПоУмолчанию;
			КонецЕсли;
			Продолжить;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(Строка.ОбъектРасчетов) И ТипЗнч(Строка.ОбъектРасчетов) = Тип("СправочникСсылка.ДоговорыКонтрагентов") Тогда
		
			СтруктураДоговора = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(Строка.ОбъектРасчетов, "Номер,Дата,Наименование");
			Строка.НомерРасчетногоДокумента = СтруктураДоговора.Номер;
			Строка.ДатаРасчетногоДокумента  = СтруктураДоговора.Дата;			
			
			ПозицияОт = Найти(СтруктураДоговора.Наименование, " от ");
			
			Если ПозицияОт > 0 Тогда
				
				Если Не ЗначениеЗаполнено(Строка.НомерРасчетногоДокумента) Тогда
					Строка.НомерРасчетногоДокумента = СокрЛП(Лев(СтруктураДоговора.Наименование, ПозицияОт));
				КонецЕсли;
				
				Если Не ЗначениеЗаполнено(Строка.ДатаРасчетногоДокумента) Тогда
					Строка.ДатаРасчетногоДокумента = СокрЛП(Прав(СтруктураДоговора.Наименование, 
						СтрДлина(СтруктураДоговора.Наименование)-ПозицияОт));
				КонецЕсли;
				
			КонецЕсли;
			
		КонецЕсли;
		
	КонецЦикла;
	
	ТабРасчетыСПартнерами = ПолученныеДанные.РасчетыСПартнерами.Выгрузить();
	ТабРасчетыСПартнерами.Свернуть("Партнер, Контрагент, ВалютаВзаиморасчетов, ОбъектРасчетов, НомерРасчетногоДокумента, ДатаРасчетногоДокумента, ДатаПлатежа, ДокументРасчетов", "Сумма, СуммаРегл");
	
	ПолученныеДанные.РасчетыСПартнерами.Загрузить(ТабРасчетыСПартнерами);
КонецПроцедуры
