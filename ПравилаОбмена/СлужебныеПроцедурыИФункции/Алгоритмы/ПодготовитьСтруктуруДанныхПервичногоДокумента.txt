Функция ПодготовитьСтруктуруДанныхПервичногоДокумента(ДанныеXDTO, Строка)
	ПервичныйДокумент = Новый Структура;
	Если ЗначениеЗаполнено(Строка.ДокументРасчетов) Тогда
	    ПервичныйДокумент.Вставить("Дата",                    Строка.ДокументРасчетов.Дата);
		ПервичныйДокумент.Вставить("ДатаВходящегоДокумента",  Строка.ДокументРасчетов.Дата);
		ПервичныйДокумент.Вставить("НомерВходящегоДокумента", Строка.ДокументРасчетов.Номер);
	ИначеЕсли ЗначениеЗаполнено(Строка.Договор)
		И Строка.Договор.Свойство("Дата") И Строка.Договор.Свойство("Номер") Тогда
		
		ПервичныйДокумент.Вставить("Дата",                    Строка.Договор.Дата);
		ПервичныйДокумент.Вставить("ДатаВходящегоДокумента",  Строка.Договор.Дата);
		ПервичныйДокумент.Вставить("НомерВходящегоДокумента", Строка.Договор.Номер);
	Иначе
		ПервичныйДокумент.Вставить("Дата",                    ДанныеXDTO.Дата);
	КонецЕсли;
	ПервичныйДокумент.Вставить("СуммаДокумента",          Строка.Сумма);
	ПервичныйДокумент.Вставить("Организация",             ДанныеXDTO.Организация);
	ПервичныйДокумент.Вставить("Контрагент",              Строка.Контрагент);
	ПервичныйДокумент.Вставить("Договор",                 Строка.Договор);
	ПервичныйДокумент.Вставить("Валюта",                  Строка.ВалютаВзаиморасчетов);
	
	Возврат ПервичныйДокумент;
КонецФункции
