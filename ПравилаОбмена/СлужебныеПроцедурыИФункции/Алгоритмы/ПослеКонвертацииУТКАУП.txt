Процедура ПослеКонвертацииУТКАУП(КомпонентыОбмена)
	Если СтандартныеПодсистемыСервер.ЭтоБазоваяВерсияКонфигурации() И Не КомпонентыОбмена.Свойство("ЭтоОбменEDI") Тогда
		
		Если КомпонентыОбмена.ЭтоОбменЧерезПланОбмена Тогда
			
			СозданныеПриВыгрузкеОбъекты = КомпонентыОбмена.ПараметрыКонвертации.СозданныеПриВыгрузкеОбъекты;
	
			Если СозданныеПриВыгрузкеОбъекты.Количество() > 0 Тогда
				
				УзелКорреспондента = КомпонентыОбмена.УзелКорреспондента;
				НомерОтправленного = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(УзелКорреспондента, "НомерОтправленного") + 1;
				
				ВыборкаИзменений = ОбменДаннымиСервер.ВыбратьИзменения(
					УзелКорреспондента,
					НомерОтправленного,
					КомпонентыОбмена.ПараметрыКонвертации.СозданныеПриВыгрузкеОбъекты);
				
				Пока ВыборкаИзменений.Следующий() Цикл
					
					Данные = ВыборкаИзменений.Получить();
					RM_ОбменДаннымиXDTOСервер.ВыгрузкаОбъектаВыборки(КомпонентыОбмена, Данные);
					
				КонецЦикла;
				
			КонецЕсли;
			
		КонецЕсли;
	
		Возврат;
	
	КонецЕсли;
	
	Если КомпонентыОбмена.НаправлениеОбмена = "Получение" Тогда
	
		Если КомпонентыОбмена.РежимЗагрузкиДанныхВИнформационнуюБазу Тогда
	
			//ПараметрыПослеЗагрузкиДанных = ОбменДаннымиУТ.ПараметрыПослеЗагрузкиДанных();
	
			//Если КомпонентыОбмена.ЭтоОбменЧерезПланОбмена Тогда
			//	ПараметрыПослеЗагрузкиДанных.ПроверятьНаИспользованиеДоговоров = Ложь;
			//КонецЕсли;
	
			//ОбменДаннымиУТ.ПослеЗагрузкиДанных(ПараметрыПослеЗагрузкиДанных);
		
			// Установка признака применения льготных ставок НДС у контрагентов.
			ОбработатьПоставщиковСЛьготнойСтавкойНДС(КомпонентыОбмена.ПараметрыКонвертации.ПоставщикиЛьготнаяСтавкаНДС);
			
			ОбработатьЗагруженныеДопРеквизитыИСведения(КомпонентыОбмена);
			ОбработатьЗагруженныеСтатьиДДСИХозОперации(КомпонентыОбмена);
			ОбработатьСФПолученныеПоЗагруженнымАО(КомпонентыОбмена);
			ОтложеннаяОбработка_ЗаполнитьНоменклатуру(КомпонентыОбмена);
			ОтложеннаяОбработка_ЗаполнениеКассовыхСмен(КомпонентыОбмена);
			ОтложеннаяОбработка_ЗаполнитьКлассификаторТНВЭД(КомпонентыОбмена);
			ОтложеннаяОбработка_ЗаполнитьВозвратыПС(КомпонентыОбмена);
	 		ОтложеннаяОбработка_ПодобратьПартииТМЦВЭксп(КомпонентыОбмена);
	 		ОтложеннаяОбработка_ЗаполнитьТипыПервичныхДок(КомпонентыОбмена);
	 		ОтложеннаяОбработка_СортДокОтложенногоПров(КомпонентыОбмена);
	 		ОтложеннаяОбработка_ОтразитьДокументыВРеестре(КомпонентыОбмена);
		
		КонецЕсли;
		
		Если КомпонентыОбмена.ПараметрыКонвертации.ПриСинхронизацииЗарегистрированоПредупреждение
			И (КомпонентыОбмена.СостояниеОбменаДанными.РезультатВыполненияОбмена = Перечисления.РезультатыВыполненияОбмена.Выполнено
			ИЛИ КомпонентыОбмена.СостояниеОбменаДанными.РезультатВыполненияОбмена = Неопределено) Тогда
			КомпонентыОбмена.СостояниеОбменаДанными.РезультатВыполненияОбмена = Перечисления.РезультатыВыполненияОбмена.ВыполненоСПредупреждениями;
			КомпонентыОбмена.ПараметрыКонвертации.ПриСинхронизацииЗарегистрированоПредупреждение = Ложь;
		КонецЕсли;
	
	ИначеЕсли КомпонентыОбмена.НаправлениеОбмена = "Отправка" Тогда
		
		Если КомпонентыОбмена.ЭтоОбменЧерезПланОбмена Тогда
			
			СозданныеПриВыгрузкеОбъекты = КомпонентыОбмена.ПараметрыКонвертации.СозданныеПриВыгрузкеОбъекты;
			Если СозданныеПриВыгрузкеОбъекты.Количество() > 0 Тогда
				
				УзелКорреспондента = КомпонентыОбмена.УзелКорреспондента;
				НомерОтправленного = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(УзелКорреспондента, "НомерОтправленного") + 1;
				
				ВыборкаИзменений = ОбменДаннымиСервер.ВыбратьИзменения(
					УзелКорреспондента,
					НомерОтправленного,
					КомпонентыОбмена.ПараметрыКонвертации.СозданныеПриВыгрузкеОбъекты);
				
				Пока ВыборкаИзменений.Следующий() Цикл
					
					Данные = ВыборкаИзменений.Получить();
					RM_ОбменДаннымиXDTOСервер.ВыгрузкаОбъектаВыборки(КомпонентыОбмена, Данные);
					
				КонецЦикла;
				
			КонецЕсли;
			
		КонецЕсли;
		
		Если КомпонентыОбмена.ПараметрыКонвертации.ПриСинхронизацииЗарегистрированоПредупреждение
			И (КомпонентыОбмена.СостояниеОбменаДанными.РезультатВыполненияОбмена = Перечисления.РезультатыВыполненияОбмена.Выполнено
			ИЛИ КомпонентыОбмена.СостояниеОбменаДанными.РезультатВыполненияОбмена = Неопределено) Тогда
			КомпонентыОбмена.СостояниеОбменаДанными.РезультатВыполненияОбмена = Перечисления.РезультатыВыполненияОбмена.ВыполненоСПредупреждениями;
			КомпонентыОбмена.ПараметрыКонвертации.ПриСинхронизацииЗарегистрированоПредупреждение = Ложь;		
		КонецЕсли; 
		
		ВыгрузитьУчетнуюПолитикуОрганизаций(КомпонентыОбмена);
		
		
	КонецЕсли;
КонецПроцедуры
