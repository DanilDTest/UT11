Функция ПроверитьДокументОснование(ДанныеИБ, ДокументОснование, ИспользованиеПКО, КомпонентыОбмена)
	// Не поддерживается выгрузка некоторых типов документов, а на версиях формата ED до 1.7 нет возможности
	// корректно выгрузить "ПервичныйДокумент".
	Если ТипЗнч(ДокументОснование) = Тип("ДокументСсылка.ВыкупВозвратнойТарыКлиентом")
		Или ТипЗнч(ДокументОснование) = Тип("ДокументСсылка.ЗаписьКнигиПродаж")
		Или (ТипЗнч(ДокументОснование) = Тип("ДокументСсылка.ПервичныйДокумент")
			И ВерсияФорматаЧислом(КомпонентыОбмена.ВерсияФорматаОбмена) < ВерсияФорматаЧислом("1.7")) Тогда
		
		ОчиститьИспользованиеПКО(ИспользованиеПКО);
		
		ШаблонПредупреждения = НСтр("ru = 'Документ %1 не может быть выгружен,
			|т.к. формат обмена не поддерживает выгрузку документа,
			|для которых в качестве документа-основания указан %2.';
			|en = 'Document %1 cannot be exported
			|as exchange format does not support export of the document
			|, for which  %2 is specified as a base document.'");
			
		ТекстПредупреждения = СтрШаблон(ШаблонПредупреждения, ДанныеИБ.Ссылка, Строка(ТипЗнч(ДокументОснование)));
		ПредупреждениеПриСинхронизации(КомпонентыОбмена, ДанныеИБ.Ссылка, ТекстПредупреждения);
		
		Возврат Ложь;
	
	Иначе
		Возврат Истина;
	КонецЕсли;
КонецФункции
