Процедура ТаблицаУслугЗаполнитьПринципала(КомпонентыОбмена, ТабУслуги)
	ТабУслуги.Колонки.Добавить("Принципал");
	Для Каждого СтрокаУслуги Из ТабУслуги Цикл
		Если НЕ ЗначениеЗаполнено(СтрокаУслуги.ПринципалСсылка) Тогда
			Продолжить;
		КонецЕсли;
		Если ТипЗнч(СтрокаУслуги.ПринципалСсылка) = Тип("СправочникСсылка.Организации") Тогда
			СтрокаУслуги.Принципал = КонтрагентИзОрганизации(СтрокаУслуги.ПринципалСсылка, КомпонентыОбмена);
		ИначеЕсли ТипЗнч(СтрокаУслуги.ПринципалСсылка) = Тип("СправочникСсылка.Партнеры") Тогда
			СтрокаУслуги.Принципал = ПартнерыИКонтрагенты.ПолучитьКонтрагентаПартнераПоУмолчанию(СтрокаУслуги.ПринципалСсылка);
		КонецЕсли;
	КонецЦикла;
КонецПроцедуры
