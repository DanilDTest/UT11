Процедура ОтложеннаяОбработка_ПеремещениеТоваров(Объект, КомпонентыОбмена)
	ЗаполнитьВидДеятельностиПоУмолчанию(Объект, "ПеремещениеПодДеятельность");
	ЗаполнитьСтатусыУказанияСерий(Объект, КомпонентыОбмена);
	
	Если Не ЗначениеЗаполнено(Объект.ВариантПриемкиТоваров) Тогда
		Если Объект.ПеремещениеПоЗаказам И Объект.Товары.Количество() > 0 Тогда
			Объект.ВариантПриемкиТоваров = ЗакупкиСервер.ПолучитьВариантПриемкиТоваров(Объект.Товары[0].ЗаказНаПеремещение);
		Иначе
			Объект.ВариантПриемкиТоваров = Константы.ВариантПриемкиТоваров.Получить();
		КонецЕсли;
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(Объект.СпособДоставки) Тогда
		Объект.СпособДоставки = Перечисления.СпособыДоставки.Самовывоз;																																																																															  
	КонецЕсли;
	
	ЭтоОтправительИзВнешнейВМС = RM_ОбщийМодуль.ЭтоСкладВМС(Объект.СкладОтправитель);      
	Если ЭтоОтправительИзВнешнейВМС Тогда
		РегистрыСведений.RM_ОчередьСозданияПередачаТоваровМеждуОрганизациями.RM_СформироватьПередачуТоваровНаОснованииПеремещения(Ложь, Объект.Ссылка, Объект.Товары.Выгрузить());
	КонецЕсли;
КонецПроцедуры
