Процедура ПКО_Документ_ОстаткиНаличныхДС_Получение_ПриКонвертацииДанныхXDTO(ДанныеXDTO, ПолученныеДанные, КомпонентыОбмена)
	ПолученныеДанные.ДополнятьНомера = Ложь;
	ПолученныеДанные.Проведен        = Истина;
	ПолученныеДанные.ТипОперации     = Перечисления.ТипыОперацийВводаОстатков.ОстаткиВКассах;
	
	#Область Кассы
	ПравилаЗаполнения = Новый Соответствие;
	ПравилаЗаполнения.Вставить("Сумма",     "Сумма");
	ПравилаЗаполнения.Вставить("СуммаРегл", "СуммаРегл");
	
	МассивСтрокТЧ = Новый Массив;
	
	Для Каждого Строка Из ДанныеXDTO.ДенежныеСредства Цикл
	
		СтруктураДанныхСтроки = ДанныеКоллекцииВВидеСтруктуры(Строка, ПравилаЗаполнения);
		
		Если СтруктураДанныхСтроки.Свойство("Сумма") И СтруктураДанныхСтроки.Сумма <= 0
			Или СтруктураДанныхСтроки.Свойство("СуммаРегл") И СтруктураДанныхСтроки.СуммаРегл <= 0 Тогда
			Продолжить;
		КонецЕсли;
		
		Валюта = RM_ОбменДаннымиXDTOСервер.СтруктураОбъектаXDTOВДанныеИБ(КомпонентыОбмена,
	        Строка.Валюта,
	        RM_ОбменДаннымиXDTOСервер.ПКОПоИмени(КомпонентыОбмена, "Справочник_Валюты"), 
	        "ПолучитьСсылку");
		
		СтруктураДанныхСтроки.Вставить("Валюта", Валюта);		
		МассивСтрокТЧ.Добавить(СтруктураДанныхСтроки);
		
	КонецЦикла;
	
	ПолученныеДанные.ДополнительныеСвойства.Вставить("Кассы", МассивСтрокТЧ);
	
	#КонецОбласти
КонецПроцедуры
