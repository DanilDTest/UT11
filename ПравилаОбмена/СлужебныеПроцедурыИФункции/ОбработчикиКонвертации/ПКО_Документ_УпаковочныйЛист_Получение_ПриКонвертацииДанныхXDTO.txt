Процедура ПКО_Документ_УпаковочныйЛист_Получение_ПриКонвертацииДанныхXDTO(ДанныеXDTO, ПолученныеДанные, КомпонентыОбмена)
	#Область Товары
	Если ДанныеXDTO.Свойство("Товары") Тогда
		ПравилаЗаполнения = Новый Соответствие;
		ПравилаЗаполнения.Вставить("Номенклатура", "Номенклатура");
		ПравилаЗаполнения.Вставить("Количество",   "Количество");
		Если ЗначениеФО("ИспользоватьХарактеристикиНоменклатуры", КомпонентыОбмена) Тогда
			ПравилаЗаполнения.Вставить("Характеристика",     "Характеристика");
		КонецЕсли;
		Если ЗначениеФО("ИспользоватьУпаковкиНоменклатуры", КомпонентыОбмена) Тогда
			ПравилаЗаполнения.Вставить("Упаковка",           "Упаковка");
			ПравилаЗаполнения.Вставить("КоличествоУпаковок", "КоличествоУпаковок");
		КонецЕсли;
		
		ПравилаЗаполнения.Вставить("RM_Штрихкод", "RM_Штрихкод");
		ПравилаЗаполнения.Вставить("RM_КлючСвязи", "RM_КлючСвязи"); 
		ПравилаЗаполнения.Вставить("ЭтоУпаковочныйЛист", "ЭтоУпаковочныйЛист");
	    ПравилаЗаполнения.Вставить("УпаковочныйЛистРодитель", "УпаковочныйЛистРодитель");
	    ПравилаЗаполнения.Вставить("УпаковочныйЛист", "УпаковочныйЛист");
	
			
		МассивСтрокТовары = Новый Массив;
		Для Каждого Строка Из ДанныеXDTO.Товары Цикл
			СтруктураДанныхСтроки = ДанныеКоллекцииВВидеСтруктуры(Строка, ПравилаЗаполнения);
			МассивСтрокТовары.Добавить(СтруктураДанныхСтроки);
		КонецЦикла;
		ПолученныеДанные.ДополнительныеСвойства.Вставить("Товары", МассивСтрокТовары);
	КонецЕсли;
	#КонецОбласти
	
	#Область ШтрихкодыУпаковок
	
	Если ДанныеXDTO.Свойство("АкцизныеМарки") Тогда
		ПравилаЗаполнения = Новый Соответствие;
		ПравилаЗаполнения.Вставить("ШтрихкодУпаковки", "ШтрихкодУпаковки");
		ПравилаЗаполнения.Вставить("RM_КлючСвязи", "КлючСвязи");
	
		МассивСтрокШтрихкодыУпаковок = Новый Массив;
		Для Каждого Строка Из ДанныеXDTO.АкцизныеМарки Цикл
			СтруктураДанныхСтроки = ДанныеКоллекцииВВидеСтруктуры(Строка, ПравилаЗаполнения);
			МассивСтрокШтрихкодыУпаковок.Добавить(СтруктураДанныхСтроки);
		КонецЦикла;
		ПолученныеДанные.ДополнительныеСвойства.Вставить("RM_ШтрихкодыУпаковок", МассивСтрокШтрихкодыУпаковок);
	КонецЕсли;
	#КонецОбласти              
	
	
	Если ДанныеXDTO.Свойство("ПопутныйГруз") Тогда     
	
		ПравилаЗаполнения = Новый Соответствие;
		ПравилаЗаполнения.Вставить("Комментарий", "Комментарий");
		ПравилаЗаполнения.Вставить("НаименованиеГруза", "НаименованиеГруза");
	    ПравилаЗаполнения.Вставить("КоличествоМест", "КоличествоМест");
	    
		МассивСтрокПопутныйГруз = Новый Массив;
		Для Каждого Строка Из ДанныеXDTO.ПопутныйГруз Цикл
			СтруктураДанныхСтроки = ДанныеКоллекцииВВидеСтруктуры(Строка, ПравилаЗаполнения);
			МассивСтрокПопутныйГруз.Добавить(СтруктураДанныхСтроки);
		КонецЦикла; 
		
		ПолученныеДанные.ДополнительныеСвойства.Вставить("RM_ПопутныйГруз", МассивСтрокПопутныйГруз);
		
	КонецЕсли;
КонецПроцедуры
