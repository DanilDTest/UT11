Процедура ПКО_Справочник_СостоянияЭД_Получение_ПриКонвертацииДанныхXDTO(ДанныеXDTO, ПолученныеДанные, КомпонентыОбмена)
	ИнструкцияСсылкаНаОбъект = ЗначениеВИнструкциюПКО(КомпонентыОбмена,
		ДанныеXDTO.КлючевыеСвойства.ОснованиеЭлектронногоДокумента);
		
	ПКОСсылки = RM_ОбменДаннымиXDTOСервер.ПКОПоИмени(КомпонентыОбмена, ИнструкцияСсылкаНаОбъект.ИмяПКО);
			
	ПолученныеДанные.Отбор.СсылкаНаОбъект.Значение = RM_ОбменДаннымиXDTOСервер.СтруктураОбъектаXDTOВДанныеИБ(
		КомпонентыОбмена, 
		ИнструкцияСсылкаНаОбъект.Значение, 
		ПКОСсылки, 
		"ПолучитьСсылку").Ссылка;
	ПолученныеДанные.Отбор.СсылкаНаОбъект.Использование = Истина;
	
	ПолученныеДанные.Прочитать();
	
	ТаблицаЗаписи = ПолученныеДанные.Выгрузить();
	Если ТаблицаЗаписи.Количество() > 0 Тогда
		СтрокаЗаписи = ТаблицаЗаписи[0];
	Иначе
		СтрокаЗаписи = ТаблицаЗаписи.Добавить();
	КонецЕсли;
	
	СтрокаЗаписи.СсылкаНаОбъект = ПолученныеДанные.Отбор.СсылкаНаОбъект.Значение;
	СтрокаЗаписи.СостояниеВерсииЭД = Перечисления.СостоянияВерсийЭД[ДанныеXDTO.СостояниеЭлектронногоДокумента.Значение];
	СтрокаЗаписи.ДействияСНашейСтороны = Перечисления.СводныеСостоянияЭД[ДанныеXDTO.СостояниеОбменаЭДНаНашейСтороне.Значение];
	СтрокаЗаписи.ДействияСоСтороныДругогоУчастника = Перечисления.СводныеСостоянияЭД[ДанныеXDTO.СостояниеОбменаЭДНаСторонеКонтрагента.Значение];
	
	ПолученныеДанные.Загрузить(ТаблицаЗаписи);
КонецПроцедуры
