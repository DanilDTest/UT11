Процедура ПКО_Документ_РКОРасчетыССотрудниками_Получение_ПриКонвертацииДанныхXDTO(ДанныеXDTO, ПолученныеДанные, КомпонентыОбмена)
	ПерваяЗаполненнаяСтатьяДДС = Неопределено;
	Для Каждого Строка Из ДанныеXDTO.РасшифровкаПлатежа Цикл
		Если ПерваяЗаполненнаяСтатьяДДС = Неопределено И ЗначениеЗаполнено(Строка.СтатьяДДС) Тогда
			ПерваяЗаполненнаяСтатьяДДС = RM_ОбменДаннымиXDTOСервер.СтруктураОбъектаXDTOВДанныеИБ(
				КомпонентыОбмена,
				Строка.СтатьяДДС,
				RM_ОбменДаннымиXDTOСервер.ПКОПоИмени(КомпонентыОбмена, "Справочник_СтатьиДДС"),
				"ПолучитьСсылку");
		КонецЕсли;	
	КонецЦикла;
	
	#Область Шапка
	
	ПолученныеДанные.Проведен = Истина;
	ДобавитьВалютуВДопСвойства(ПолученныеДанные, ДанныеXDTO);
	ЗагрузитьОтветственноеЛицо(ПолученныеДанные, ДанныеXDTO, КомпонентыОбмена, "ГлавныйБухгалтер");
	ЗагрузитьОтветственноеЛицо(ПолученныеДанные, ДанныеXDTO, КомпонентыОбмена, "Руководитель");
	
	// ХозяйственнаяОперация
	
	ВидРасчетов = СокрЛП(ДанныеXDTO.ВидРасчетов.Значение);
	Если ВидРасчетов = "Займы" Тогда
		ПолученныеДанные.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВыдачаЗаймаСотруднику;
	Иначе
		ПолученныеДанные.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВыдачаДенежныхСредствПодотчетнику;
	КонецЕсли;
	// СтатьяДДС
	ПолученныеДанные.СтатьяДвиженияДенежныхСредств = ПерваяЗаполненнаяСтатьяДДС;
	
	#КонецОбласти
	ЗагрузитьДополнительныеРеквизиты(ПолученныеДанные, ДанныеXDTO, КомпонентыОбмена);
	
	#Область РасшифровкаПлатежа
	
	МассивСтрокРасшифровкаПлатежа = Новый Массив;
	Если ЗначениеЗаполнено(ДанныеXDTO.РасшифровкаПлатежа) Тогда
	
		Т_РП = Новый Соответствие;
		Т_РП.Вставить("Сумма", "Сумма");
		Т_РП.Вставить("СтатьяДвиженияДенежныхСредств", "СтатьяДДС");
		
		Для Каждого СтрокаXDTO Из ДанныеXDTO.РасшифровкаПлатежа Цикл
			СтруктураДанныхСтроки = Новый Структура;
			ЗаполнитьСтруктуруДанныхСтроки(Т_РП, СтрокаXDTO, СтруктураДанныхСтроки);
			МассивСтрокРасшифровкаПлатежа.Добавить(СтруктураДанныхСтроки);
		КонецЦикла;
		
		ПолученныеДанные.ДополнительныеСвойства.Вставить("РасшифровкаПлатежа", МассивСтрокРасшифровкаПлатежа);
	
	КонецЕсли;
	
	#КонецОбласти
КонецПроцедуры
