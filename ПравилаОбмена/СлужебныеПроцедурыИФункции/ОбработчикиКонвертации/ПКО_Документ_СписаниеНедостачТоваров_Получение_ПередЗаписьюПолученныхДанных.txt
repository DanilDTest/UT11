Процедура ПКО_Документ_СписаниеНедостачТоваров_Получение_ПередЗаписьюПолученныхДанных(ПолученныеДанные, ДанныеИБ, КонвертацияСвойств, КомпонентыОбмена)
	ЗаполнитьСкладПоУмолчанию(ПолученныеДанные, ДанныеИБ, КомпонентыОбмена);
	ЗагрузитьДополнительныеСведения(?(ДанныеИБ = Неопределено, ПолученныеДанные.ПолучитьСсылкуНового(), ДанныеИБ.Ссылка), 
								ПолученныеДанные.ДополнительныеСвойства, КомпонентыОбмена);
	Если ДанныеИБ = Неопределено Или Не ЗначениеЗаполнено(ДанныеИБ.СтатьяРасходов) Или Не ЗначениеЗаполнено(ПолученныеДанные.СтатьяРасходов) Тогда
		
		СтатьяРасходов = Неопределено;
		Если ДанныеИБ <> Неопределено Тогда
			СтатьяРасходов = ДанныеИБ.СтатьяРасходов;
		КонецЕсли;	
		
		Если Не ЗначениеЗаполнено(СтатьяРасходов) Тогда
			СтатьяРасходов = ЭлементПоУмолчанию(КомпонентыОбмена, "СтатьяРасходовСписаниеТоваров");
		КонецЕсли;
			
		ПолученныеДанные.СтатьяРасходов = СтатьяРасходов;
		Если ДанныеИБ <> Неопределено Тогда
			ДанныеИБ.СтатьяРасходов = СтатьяРасходов;
		КонецЕсли;
			
	КонецЕсли;
	
	ДанныеДляЗаписиВИБ = ?(ДанныеИБ = Неопределено, ПолученныеДанные, ДанныеИБ);
КонецПроцедуры
